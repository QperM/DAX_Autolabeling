# 智能图像标注系统

**版本：V1.0**  
**提交日期：2026年2月28日**  

## 项目概述

本项目是一套基于Web的智能图像标注系统，采用React + Node.js技术栈开发。系统提供直观的用户界面和完整的标注工作流程，支持图像上传管理、实时预览、标注工具和数据导出等功能。

## 核心功能

### 前端功能模块

#### 1. 图像加载与管理
- ✅ 单张/批量图片上传（支持拖拽上传）
- ✅ ZIP文件上传与自动解压
- ✅ 已加载图片缩略图网格展示
- ✅ 图片预览和选择功能
- ✅ 图片删除功能

#### 2. 模块化首页设计
- ✅ 2D Bbox/Mask标注模块选择
- ✅ 9D Pose标注模块预留
- ✅ Unity风格的三区域布局（左上：模块选择，右上：图片预览，下方：已上传图片）

#### 3. 标注工作界面
- ✅ 实时图像预览窗口
- ✅ 专业标注工具栏
- ✅ 标注画布区域

#### 4. 标注工具
- ✅ 画笔工具：绘制标注区域
- ✅ 橡皮擦工具：清除标注
- ✅ 多边形工具：精确标注
- ✅ 撤销/重做功能
- ✅ 笔刷大小调节

### 后端功能模块

#### 1. 文件服务
- ✅ 图片文件上传和存储
- ✅ ZIP文件解压处理
- ✅ 静态文件服务

#### 2. 数据管理
- ✅ SQLite数据库存储
- ✅ 图片元数据管理
- ✅ 标注数据持久化
- ✅ 图片信息查询API

## 技术架构

### 前端技术栈
- **框架**: React 18 + TypeScript
- **构建工具**: Vite
- **状态管理**: Redux Toolkit
- **UI组件**: 原生CSS + React组件
- **文件上传**: React Dropzone
- **路由**: React Router DOM

### 后端技术栈
- **框架**: Node.js + Express
- **数据库**: SQLite3
- **文件处理**: Multer
- **跨域支持**: CORS

## 项目结构

```
DAXautolabeling/
├── client/                 # 前端React应用
│   ├── src/
│   │   ├── components/    # 组件目录
│   │   │   ├── AnnotationCanvas.tsx  # 标注画布组件
│   │   │   ├── ImageList.tsx         # 图像列表组件
│   │   │   ├── ImageUploader.tsx     # 图像上传组件
│   │   │   ├── LandingPage.tsx       # 首页导览组件
│   │   │   └── Toolbar.tsx           # 工具栏组件
│   │   ├── services/      # API服务
│   │   │   └── api.ts                # 后端API接口
│   │   ├── store/         # 状态管理
│   │   │   ├── annotationSlice.ts    # 标注状态切片
│   │   │   └── index.ts              # Store配置
│   │   ├── types/         # 类型定义
│   │   │   └── index.ts              # TypeScript类型
│   │   ├── App.tsx        # 主应用组件
│   │   ├── App.css        # 样式文件
│   │   └── main.tsx       # 入口文件
├── server/                # 后端服务
│   ├── index.js           # 服务器入口
│   ├── database.js        # 数据库操作
│   ├── package.json       # 后端依赖配置
│   └── uploads/           # 上传文件存储目录
└── database/              # 数据库文件目录
```

## 快速开始

### 环境要求
- Node.js 16+ 
- npm 8+

### 安装与运行

1. **安装根目录依赖**
```bash
npm install
```

2. **启动后端服务**
```bash
cd server
npm install
npm run dev
```
后端服务将运行在 `http://localhost:3001`

3. **启动前端应用**
```bash
cd client
npm install
npm run dev
```
前端应用将运行在 `http://localhost:5173`

或者使用批处理文件一键启动：
```bash
start.bat
```

### 项目初始化
首次运行需要创建数据库：
```bash
cd server
node database.js
```

### 使用流程

1. 访问首页 (`http://localhost:5173`)
2. 选择需要的标注模块（2D Bbox/Mask标注）
3. 点击"开始标注工作"进入主界面
4. 上传图片文件（支持拖拽上传和ZIP文件）
5. 在预览区域查看和选择图片
6. 使用左侧工具栏进行标注操作
7. 实时预览标注效果

## 功能特性

### 模块化设计
- 支持按需选择标注模块
- 9D Pose模块预留接口
- 模块选择后进入专用工作界面

### 用户体验
- 响应式设计，适配不同屏幕尺寸
- 直观的拖拽上传体验
- Unity风格的专业界面布局
- 实时预览标注效果
- 流畅的操作反馈

### 技术特色
- 基于Redux Toolkit的状态管理
- 固定比例的预览区域设计（4:3）
- 支持撤销/重做操作历史
- RESTful API设计
- SQLite轻量级数据库存储

## 开发进展

### V1.0 当前实现功能
- [x] 基础图像上传和管理
- [x] ZIP文件上传与解压
- [x] 模块化首页设计
- [x] Unity风格三区域布局
- [x] 图片预览和选择功能
- [x] 基础标注工具（画笔、橡皮擦、多边形）
- [x] 撤销/重做功能
- [x] 状态管理和数据持久化
- [x] 固定比例预览区域设计
- [x] 圆角一致性UI设计

### 待完善功能
- [ ] 自动化标注算法集成
- [ ] 9D Pose标注模块开发
- [ ] 标注数据导出功能
- [ ] 更丰富的标注工具
- [ ] 性能优化和批量处理
- [ ] 用户权限管理系统