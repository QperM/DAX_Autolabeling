# 智能图像标注系统

**版本：V1.0**  
**提交日期：2026年2月27日**  
**提交人：马君羽**

## 项目概述

本项目是一套基于Web的智能图像标注系统，采用React + Node.js技术栈开发。系统支持图像上传、自动化Mask标注、人工精修工具等功能，旨在降低人工标注成本，提高数据准备效率。

## 核心功能

### 前端功能模块

#### 1. 图像加载与管理
- ✅ 单张/批量图片上传（支持拖拽上传）
- ✅ ZIP文件上传与自动解压
- ✅ 已加载图片缩略图列表展示
- ✅ 图片删除功能（仅从列表删除，不影响本地文件）

#### 2. 自动化标注交互
- ✅ 一键自动标注功能
- ✅ 加载动画/进度条反馈

#### 3. 标注成果预览区
- ✅ 主预览窗口实时渲染Mask层和多边形轮廓
- ✅ 2D边界框显示（根据Mask计算）
- ✅ 标签显示功能

#### 4. 精修工具栏
- ✅ 擦除工具：鼠标涂抹清除错误Mask部分
- ✅ 多边形精修工具：顶点拖动、增删节点
- ✅ 撤销/重做功能

#### 5. 文件导出
- ✅ 数据集导出功能

### 后端功能模块

#### 1. 大模型接口集成
- ✅ SAM3等大模型API封装
- ✅ 图像预处理和数据传输

#### 2. 数据存储
- ✅ SQLite轻量级数据库
- ✅ images表和annotations表设计
- ✅ 标注数据持久化存储

## 技术架构

### 前端技术栈
- **框架**: React 18 + TypeScript
- **构建工具**: Vite
- **状态管理**: Redux Toolkit
- **UI组件**: 原生CSS + React组件
- **绘图库**: React-Konva
- **文件上传**: React Dropzone
- **路由**: React Router DOM

### 后端技术栈
- **框架**: Node.js + Express
- **数据库**: SQLite3
- **文件处理**: Multer
- **跨域支持**: CORS

## 项目结构

```
DAXautolabeling/
├── client/                 # 前端React应用
│   ├── src/
│   │   ├── components/    # 组件目录
│   │   │   ├── AnnotationCanvas.tsx  # 标注画布组件
│   │   │   ├── ImageList.tsx         # 图像列表组件
│   │   │   ├── ImageUploader.tsx     # 图像上传组件
│   │   │   ├── LandingPage.tsx       # 首页导览组件
│   │   │   └── Toolbar.tsx           # 工具栏组件
│   │   ├── services/      # API服务
│   │   │   └── api.ts                # 后端API接口
│   │   ├── store/         # 状态管理
│   │   │   ├── annotationSlice.ts    # 标注状态切片
│   │   │   └── index.ts              # Store配置
│   │   ├── types/         # 类型定义
│   │   │   └── index.ts              # TypeScript类型
│   │   ├── App.tsx        # 主应用组件
│   │   ├── App.css        # 样式文件
│   │   └── main.tsx       # 入口文件
├── server/                # 后端服务
│   ├── index.js           # 服务器入口
│   ├── package.json       # 后端依赖配置
│   └── uploads/           # 上传文件存储目录
└── database/              # 数据库文件目录
```

## 快速开始

### 环境要求
- Node.js 16+ 
- npm 8+

### 安装与运行

1. **启动后端服务**
```bash
cd server
npm install
npm run dev
```
后端服务将运行在 `http://localhost:3001`

2. **启动前端应用**
```bash
cd client
npm install
npm run dev
```
前端应用将运行在 `http://localhost:5173`

### 使用流程

1. 访问首页 (`http://localhost:5173`)
2. 选择需要的标注模块（目前支持2D Bbox/Mask标注）
3. 点击"开始标注工作"进入主界面
4. 上传图片文件
5. 使用工具栏进行标注操作
6. 导出标注数据集

## 功能特性

### 模块化设计
- 支持按需选择标注模块
- 9D Pose模块预留接口（待开发）
- 模块选择后锁定相应功能页面

### 用户体验
- 响应式设计，支持不同屏幕尺寸
- 直观的拖拽上传体验
- 实时预览标注效果
- 完善的操作反馈和错误提示

### 技术亮点
- 基于Redux的状态管理
- Konva.js实现高性能图形渲染
- 支持撤销/重做操作历史
- RESTful API设计

## 开发计划

### V1.0 已实现功能
- [x] 基础图像上传和管理
- [x] 标注画布和基础工具
- [x] 状态管理和数据持久化
- [x] 模块化首页设计

### 待开发功能
- [ ] 9D Pose标注模块
- [ ] 完整的大模型集成
- [ ] 更丰富的标注工具
- [ ] 数据导出格式扩展
- [ ] 用户权限管理
- [ ] 批量处理优化

## 注意事项

1. **9D Pose模块**需要额外的相机参数和深度图信息
2. 建议单次上传图片数量不超过50张
3. 单张图片大小限制为50MB
4. 支持的图片格式：JPG、PNG、GIF、BMP

## 问题反馈

如有任何问题或建议，请联系项目维护者。

---
*该项目持续开发中，功能不断完善*